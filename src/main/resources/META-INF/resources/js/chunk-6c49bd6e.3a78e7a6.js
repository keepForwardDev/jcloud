(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c49bd6e"],{"0777":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return r}));a("3fab"),a("3f27"),a("8130"),a("a9b6");var n=function(t){return t?[{required:!0,message:t,trigger:"blur"}]:[{required:!0,message:"该项为必填项，请填写完整！",trigger:"blur"}]},r=function(t,e,a){if(""!==e){var n=/^\w+$/;n.test(e)?a():a(new Error("只能填写 字母、数字、下划线组成的字符串！"))}else a()}},3897:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("d2-container",[a("div",{staticStyle:{"padding-left":"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return e.stopPropagation(),function(){return t.append()}.apply(null,arguments)}}},[t._v("添加根级字典")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"chain-tree-box"},[t.treeVisible?a("el-tree",{ref:"tree",attrs:{load:t.loadNode,lazy:"","node-key":"id","expand-on-click-node":!0,"auto-expand-parent":!1,"highlight-current":!0},on:{"node-click":t.handleCheckChange},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.node;return a("span",{staticClass:"custom-tree-node"},[a("span",{attrs:{title:n.label}},[t._v(t._s(n.label))]),a("span",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),function(){return t.append(n)}.apply(null,arguments)}}},[t._v("添加")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),function(){return t.editNode(n)}.apply(null,arguments)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),function(){return t.remove(n)}.apply(null,arguments)}}},[t._v("删除")])],1)])}}],null,!1,1781342004)}):t._e()],1),a("el-dialog",{attrs:{title:t.dialogFormTitle,visible:t.dialogFormVisible,width:"700px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"120px",size:"medium",rules:t.formRules}},[a("el-form-item",{attrs:{label:"字典名称",prop:"name"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入字典名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"唯一编码"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"用于确定该字典的唯一性",disabled:0!=t.formData.parentId},model:{value:t.formData.nameKey,callback:function(e){t.$set(t.formData,"nameKey",e)},expression:"formData.nameKey"}})],1),a("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"number",placeholder:"排序号越大越靠后"},model:{value:t.formData.sortNum,callback:function(e){t.$set(t.formData,"sortNum",e)},expression:"formData.sortNum"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"用于描述该字典的作用"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveForm}},[t._v("保存")])],1)],1)],1)},r=[],i=a("0777"),o={name:"admin-dictionary",data:function(){return{dialogFormVisible:!1,dialogFormTitle:"新增",formData:{id:"",name:"",nameKey:"",sortNum:0,remark:""},formRules:{name:Object(i["b"])()},loading:!1,treeVisible:!0}},methods:{loadNode:function(t,e){var a=this,n=0;0!==t.level&&(n=t.data.id),this.$get("/dictionary/getByParentId/simple-dictionary/"+n).then((function(t){1===t.code&&(a.loading=!1,e(t.data))}))},handleCheckChange:function(t,e){},append:function(t){this.formData=t?{id:"",parentId:t.data.id,name:"",nameKey:"",sortNum:0,remark:""}:{id:"",name:"",parentId:0,nameKey:"",sortNum:0,remark:""},this.dialogFormVisible=!0},editNode:function(t){this.formData={id:t.data.id,name:t.data.label,nameKey:t.data.data.nameKey,sortNum:t.data.data.sortNum,remark:t.data.data.remark,parentId:t.data.data.parentId},this.dialogFormVisible=!0},saveForm:function(){var t=this;this.$refs.form.validate((function(e,a){if(e){if(0===t.formData.parentId&&!t.formData.nameKey)return void t.$message({message:"唯一编码必须填写！",type:"warning"});t.$post("/dictionary/cudOperation",t.formData).then((function(e){1===e.code&&(t.$message.success(e.msg),t.dialogFormVisible=!1,t.refreshTree())}))}else t.$message({message:"请完善相关信息填写！",type:"warning"})}))},remove:function(t){var e=this;this.$confirm("是否确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={id:t.data.id,deleted:1};e.$post("/dictionary/cudOperation",a).then((function(t){1===t.code&&(e.$message.success(t.msg),e.refreshTree())}))}))},refreshTree:function(){var t=this;this.loading=!0,this.treeVisible=!1,setTimeout((function(){t.treeVisible=!0}),500)}},mounted:function(){}},l=o,s=(a("754d"),a("cba8")),d=Object(s["a"])(l,n,r,!1,null,null,null);e["default"]=d.exports},5426:function(t,e,a){var n=a("1111").PROPER,r=a("b68d"),i=a("de35"),o="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||o[t]()!==o||n&&i[t].name!==t}))}},"754d":function(t,e,a){"use strict";a("d27f")},8130:function(t,e,a){"use strict";var n=a("a5ba"),r=a("e280").trim,i=a("5426");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return r(this)}})},d27f:function(t,e,a){}}]);